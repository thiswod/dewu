# 得物内容下载器

## 语言选项 / Language Options
- [简体中文](README.md) ｜ [English](README_EN.md)

这是一个用于下载得物平台内容的Windows应用程序，可以批量下载视频、封面图片和文案内容。

## 功能特点

- **批量下载**：支持从多行文本中提取多个URL链接，并行下载多个内容
- **完整内容保存**：下载视频、封面图片（webp格式）和文案（txt格式）
- **自定义保存位置**：用户可选择保存目录
- **实时进度显示**：下载过程中显示进度和统计信息
- **完成通知**：下载完成后显示详细的成功/失败统计

## 界面介绍

### 上部区域
- **带链接的文本/一行一个**：在此文本框中输入包含URL链接的文本，每行一个链接

### 下部区域
- **保存位置设置**：
  - 文本框：显示当前选择的保存目录路径
  - 浏览...按钮：点击打开文件夹选择对话框，自定义保存位置
- **保存(&D)按钮**：点击开始下载过程

## 使用方法

1. 在上方文本框中粘贴包含得物链接的文本（格式为`XXX发布了一篇得物动态，https://dw4.co/t/A/XXXxxxXxX点开链接，快来看吧！`）
2. 确认或修改保存位置
3. 点击「保存(&D)」按钮开始下载
4. 等待下载完成，程序会显示统计信息

## 技术实现

- **.NET 8**：使用C# Windows Forms开发
- **多线程下载**：使用SimpleThreadPool实现并行下载，提高效率
- **正则表达式**：提取URL链接和解析网页内容
- **JSON解析**：使用EasyJson解析API响应数据
- **HTTP请求**：使用HttpRequestClass发送请求获取内容

## 项目结构

```
dewu/
├── Form1.cs           # 主窗体代码
├── Form1.Designer.cs  # 窗体设计器代码
├── EasyHTTP.cs        # HTTP请求处理类
├── EasyJson.cs        # JSON解析类
├── SimpleThreadPool.cs # 线程池实现
├── common.cs          # 通用功能类
├── dewu.csproj        # 项目文件
└── dewu.sln           # 解决方案文件
```

## 注意事项

1. 请确保输入的URL格式正确，否则可能无法识别和下载
2. 下载过程中请勿关闭程序窗口
3. 请确保有足够的磁盘空间和写入权限
4. 下载速度取决于网络状况和服务器响应

## 错误处理

程序会自动处理以下错误情况：
- 空输入验证
- 保存目录不存在或无法访问
- 网络请求失败
- 文件保存异常

所有错误都会记录到失败统计中，不影响其他下载任务的进行。